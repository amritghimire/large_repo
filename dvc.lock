schema: '2.0'
stages:
  split:
    cmd: python split.py sentences.csv sentences-train.csv sentences-test.csv
    deps:
    - path: sentences.csv
      md5: 6d296519133910bc74d48f69272095ff
      size: 22499
    - path: split.py
      md5: 46636efe5bff60a35a8a2f01fd2155a5
      size: 1340
    params:
      params.yaml:
        prepare.batch_size: 392
        prepare.epochs: 87
        prepare.layers: 1
        prepare.learning_rate: 0.10686
        prepare.trees: 59
    outs:
    - path: sentences-test.csv
      md5: 668af24c4c4b6c246433019a67150e47
      size: 4267
    - path: sentences-train.csv
      md5: c7a93e7d9e340df5e5bbac0c055ec807
      size: 18232
  featurize:
    cmd: python featurize.py sentences-train.csv sentences-train-feats.csv
    deps:
    - path: featurize.py
      md5: 35bda71c8ac2d77d5b6bb5ccd165dd9e
      size: 716
    - path: sentences-train.csv
      md5: c7a93e7d9e340df5e5bbac0c055ec807
      size: 18232
    outs:
    - path: sentences-train-feats.csv
      md5: c9aaf03761f9cff42b9727031c58680f
      size: 48
  train:
    cmd: python train.py sentences-train-feats.csv model.json
    deps:
    - path: sentences-train-feats.csv
      md5: c9aaf03761f9cff42b9727031c58680f
      size: 48
    - path: train.py
      md5: 7c8bdf37da670fdfafadc92c403712f0
      size: 1672
    params:
      params.yaml:
        concurrent.batch_size: 118
        concurrent.columns: 81
        concurrent.layers: 4
        concurrent.min_split: 31
        concurrent.sample: 0.79179
        model.drop: 0.22906
        model.max_features: 1759
        model.min_features: 106
        tagging.batch_size: 145
        tagging.columns: 14
        tagging.drop: 0.26048
        tagging.features: 4092
        tagging.tags: 143
        validation.columns: 25
        validation.dense: 208
    outs:
    - path: model.json
      md5: 25cb6cd9898bf26123e333d6f2160d2c
      size: 620
  evaluate:
    cmd: python evaluate.py model.json sentences-test.csv
    deps:
    - path: evaluate.py
      md5: f479fbefae47c36c09dc2a9dcb502744
      size: 42011
    - path: model.json
      md5: 25cb6cd9898bf26123e333d6f2160d2c
      size: 620
    - path: sentences-test.csv
      md5: 668af24c4c4b6c246433019a67150e47
      size: 4267
    outs:
    - path: metrics.json
      md5: b743bc52cd983d4fc3a29e5364436eb8
      size: 431
