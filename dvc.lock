schema: '2.0'
stages:
  split:
    cmd: python split.py sentences.csv sentences-train.csv sentences-test.csv
    deps:
    - path: sentences.csv
      md5: d53ba05fb37352181eb3a34ed371eeec
      size: 5647
    - path: split.py
      md5: 1e10c3bf58266d74d2c663e1e3d84d2f
      size: 1326
    params:
      params.yaml:
        prepare.batch_size: 348
        prepare.epochs: 98
        prepare.layers: 1
        prepare.learning_rate: 0.13919
        prepare.trees: 61
    outs:
    - path: sentences-test.csv
      md5: eb4811f813581ae964ae7c586f24d12a
      size: 1180
    - path: sentences-train.csv
      md5: 922c3454d52f823d5453eb33160beb69
      size: 4467
  featurize:
    cmd: python featurize.py sentences-train.csv sentences-train-feats.csv
    deps:
    - path: featurize.py
      md5: cc231c78530fdcc4658c0db34595f722
      size: 701
    - path: sentences-train.csv
      md5: 922c3454d52f823d5453eb33160beb69
      size: 4467
    outs:
    - path: sentences-train-feats.csv
      md5: a58f0459a2b1a110760efc0508ee627c
      size: 47
  train:
    cmd: python train.py sentences-train-feats.csv model.json
    deps:
    - path: sentences-train-feats.csv
      md5: a58f0459a2b1a110760efc0508ee627c
      size: 47
    - path: train.py
      md5: fe8d380ca7d64fe3a44e73a14e8fe21c
      size: 1647
    params:
      params.yaml:
        concurrent.batch_size: 121
        concurrent.columns: 74
        concurrent.layers: 6
        concurrent.min_split: 33
        concurrent.sample: 1.02132
        model.drop: 0.18837
        model.max_features: 2211
        model.min_features: 105
        tagging.batch_size: 135
        tagging.columns: 12
        tagging.drop: 0.25343
        tagging.features: 3150
        tagging.tags: 118
        validation.columns: 35
        validation.dense: 166
    outs:
    - path: model.json
      md5: ee1c38322e1c7f2fc5b2806664590b5f
      size: 618
  evaluate:
    cmd: python evaluate.py model.json sentences-test.csv
    deps:
    - path: evaluate.py
      md5: e557d60def955ae400a3ad13dea5fe82
      size: 41992
    - path: model.json
      md5: ee1c38322e1c7f2fc5b2806664590b5f
      size: 618
    - path: sentences-test.csv
      md5: eb4811f813581ae964ae7c586f24d12a
      size: 1180
    outs:
    - path: metrics.json
      md5: 1e4d7aa224f98b970dc964904adfa579
      size: 519
