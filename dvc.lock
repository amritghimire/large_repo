schema: '2.0'
stages:
  split:
    cmd: python split.py sentences.csv sentences-train.csv sentences-test.csv
    deps:
    - path: sentences.csv
      md5: 5b6524d283223d705fbd1f0344fc34bf
      size: 15549
    - path: split.py
      md5: f8a2dd1570477961f91b4efa29d97324
      size: 1332
    params:
      params.yaml:
        prepare.batch_size: 323
        prepare.epochs: 61
        prepare.layers: 2
        prepare.learning_rate: 0.09147
        prepare.trees: 81
    outs:
    - path: sentences-test.csv
      md5: 0f03d983600e1eb42a75e40a7368d891
      size: 2777
    - path: sentences-train.csv
      md5: 11fc5841a694af4e2feece7109059ac6
      size: 12772
  featurize:
    cmd: python featurize.py sentences-train.csv sentences-train-feats.csv
    deps:
    - path: featurize.py
      md5: 24571d1c6c332d504f96c508ea6cc5c7
      size: 711
    - path: sentences-train.csv
      md5: 11fc5841a694af4e2feece7109059ac6
      size: 12772
    outs:
    - path: sentences-train-feats.csv
      md5: 9cbbf71c150623a4c1a7e46a6022de53
      size: 48
  train:
    cmd: python train.py sentences-train-feats.csv model.json
    deps:
    - path: sentences-train-feats.csv
      md5: 9cbbf71c150623a4c1a7e46a6022de53
      size: 48
    - path: train.py
      md5: 13586f3d0c52c72886b1ff32c93a4ced
      size: 1666
    params:
      params.yaml:
        concurrent.batch_size: 95
        concurrent.columns: 79
        concurrent.layers: 4
        concurrent.min_split: 28
        concurrent.sample: 0.86317
        model.drop: 0.20456
        model.max_features: 2239
        model.min_features: 114
        tagging.batch_size: 113
        tagging.columns: 17
        tagging.drop: 0.32663
        tagging.features: 3364
        tagging.tags: 143
        validation.columns: 34
        validation.dense: 195
    outs:
    - path: model.json
      md5: 032d97aa8090072669a0f1ab04776a76
      size: 618
  evaluate:
    cmd: python evaluate.py model.json sentences-test.csv
    deps:
    - path: evaluate.py
      md5: a509d99d6c19cc613d698593538854f1
      size: 42001
    - path: model.json
      md5: 032d97aa8090072669a0f1ab04776a76
      size: 618
    - path: sentences-test.csv
      md5: 0f03d983600e1eb42a75e40a7368d891
      size: 2777
    outs:
    - path: metrics.json
      md5: 3949827c63858652a263f5a7966cd962
      size: 522
